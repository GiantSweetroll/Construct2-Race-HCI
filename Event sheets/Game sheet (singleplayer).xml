<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Game sheet (singleplayer)</name>
    <events>
        <include>timer sheet</include>
        <include>Character sheet</include>
        <variable comment="Indicator if the game has finished" constant="0" name="finished" sid="392121217228079" static="0" type="number">0</variable>
        <variable comment="Used to keep track of how long the player has been playing on the map" constant="0" name="timer" sid="357399775604295" static="0" type="number">0</variable>
        <variable comment="Indicator if a random event is already in progress" constant="0" name="randomEventRunning" sid="407178735813083" static="0" type="number">0</variable>
        <variable comment="variable to identify that the flood should go down" constant="0" name="floodReverse" sid="517704121229718" static="0" type="number">0</variable>
        <variable comment="how much does the terrain reduces the force generated by the Player" constant="0" name="terrain_force_reduction" sid="556595905599406" static="0" type="number">0</variable>
        <event-group description="" sid="903638005397133" title="Initialization">
            <sub-events>
                <event-block sid="449259786209480">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="169621157212844" type="System" />
                    </conditions>
                    <actions>
                        <action id="-4" name="Set layer visible" sid="268346787529099" type="System">
                            <param id="0" name="Layer">&quot;Statistics Screen&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="237866527652669" type="System">
                            <param id="0" name="Variable">timer</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-16" name="Set opacity" sid="199695569516120" type="Flood">
                            <param id="0" name="Opacity">50</param>
                        </action>
                        <action id="-10" name="Set value" sid="641734152975115" type="Player">
                            <param id="0" name="Instance variable">idleAnimation</param>
                            <param id="1" name="Value">PLAYER_SELECTION</param>
                        </action>
                        <action id="-10" name="Set value" sid="910596342578884" type="Player">
                            <param id="0" name="Instance variable">movingAnimation</param>
                            <param id="1" name="Value">PLAYER_SELECTION</param>
                        </action>
                        <action id="0" name="Call function" sid="559542946364534" type="Function">
                            <param id="0" name="Name">&quot;setIdle&quot;</param>
                            <param id="1" name="Parameter {n}">Player.idleAnimation</param>
                        </action>
                        <action id="-16" name="Set opacity" sid="916516954949355" type="BlackScreen">
                            <param id="0" name="Opacity">50</param>
                        </action>
                        <action behavior="Physics" id="23" name="Enable/disable collisions" sid="680462115046740" type="luckybox">
                            <param id="0" name="Object">Player</param>
                            <param id="1" name="State">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Because the delman has more area, using the standard force value makes it very slow moving, so it needs its own force value</comment>
                        <event-block sid="296837482828924">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="679601187851337" type="System">
                                    <param id="0" name="Variable">PLAYER_SELECTION</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="643830912618905" type="System">
                                    <param id="0" name="Variable">VEHICLE_FORCE</param>
                                    <param id="1" name="Value">60</param>
                                </action>
                                <action id="-9" name="Set value" sid="864216217246128" type="System">
                                    <param id="0" name="Variable">VEHICLE_FORCE_UPWARDS</param>
                                    <param id="1" name="Value">40</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="233776839613095">
                    <conditions>
                        <condition id="-18" name="On created" sid="182664648156156" type="timeText" />
                    </conditions>
                    <actions>
                        <action id="7" name="Set CSS style" sid="825135820429849" type="timeText">
                            <param id="0" name="Property name">&quot;font-size&quot;</param>
                            <param id="1" name="Value">&quot;2.5vw&quot;</param>
                        </action>
                        <action id="7" name="Set CSS style" sid="942997310256031" type="timeText">
                            <param id="0" name="Property name">&quot;font-family&quot;</param>
                            <param id="1" name="Value">&quot;CyberpunkWaifus&quot;</param>
                        </action>
                        <action id="7" name="Set CSS style" sid="990093257995478" type="timeText">
                            <param id="0" name="Property name">&quot;background-color&quot;</param>
                            <param id="1" name="Value">&quot;rgba(75,85,97,0)&quot;</param>
                        </action>
                        <action id="7" name="Set CSS style" sid="956636354073794" type="timeText">
                            <param id="0" name="Property name">&quot;border-style&quot;</param>
                            <param id="1" name="Value">&quot;solid&quot;</param>
                        </action>
                        <action id="7" name="Set CSS style" sid="492822414575601" type="timeText">
                            <param id="0" name="Property name">&quot;border-width&quot;</param>
                            <param id="1" name="Value">&quot;0px 0px 0px 0px&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="219821636782321">
                    <conditions>
                        <condition id="-18" name="On created" sid="461549930402975" type="timeTaken" />
                    </conditions>
                    <actions>
                        <action id="7" name="Set CSS style" sid="372303237252646" type="timeTaken">
                            <param id="0" name="Property name">&quot;font-size&quot;</param>
                            <param id="1" name="Value">&quot;2.5vw&quot;</param>
                        </action>
                        <action id="7" name="Set CSS style" sid="310272001337412" type="timeTaken">
                            <param id="0" name="Property name">&quot;font-family&quot;</param>
                            <param id="1" name="Value">&quot;CyberpunkWaifus&quot;</param>
                        </action>
                        <action id="7" name="Set CSS style" sid="182529777677596" type="timeTaken">
                            <param id="0" name="Property name">&quot;background-color&quot;</param>
                            <param id="1" name="Value">&quot;rgba(75,85,97,0)&quot;</param>
                        </action>
                        <action id="7" name="Set CSS style" sid="326460974008110" type="timeTaken">
                            <param id="0" name="Property name">&quot;border-style&quot;</param>
                            <param id="1" name="Value">&quot;solid&quot;</param>
                        </action>
                        <action id="7" name="Set CSS style" sid="352609556804397" type="timeTaken">
                            <param id="0" name="Property name">&quot;border-width&quot;</param>
                            <param id="1" name="Value">&quot;0px 0px 0px 0px&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Manages random events" sid="755444636785502" title="Random Events">
            <sub-events>
                <variable comment="variable to set which random event to fire" constant="0" name="randomEventType" sid="945365526528682" static="0" type="number">0</variable>
                <variable comment="variable to identify if a random event should be fired" constant="0" name="randomEvent" sid="204886377227959" static="0" type="number">0</variable>
                <comment>Every x seconds, randomize if a random event will trigger</comment>
                <event-block sid="336233252941088">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="840786618994354" type="System">
                            <param id="0" name="Interval (seconds)">1.0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="153749219794180" type="System">
                            <param id="0" name="Variable">randomEvent</param>
                            <param id="1" name="Value">int(random(0, 11))</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>If randomEvent is 1, select from the available random event to trigger</comment>
                        <event-block sid="460801938843724">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="332476618029997" type="System">
                                    <param id="0" name="Variable">randomEvent</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="968486747492835" type="System">
                                    <param id="0" name="Variable">finished</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="844245018553753" type="System">
                                    <param id="0" name="Variable">randomEventRunning</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="612238467777176" type="System">
                                    <param id="0" name="Variable">randomEventRunning</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-9" name="Set value" sid="194798096705739" type="System">
                                    <param id="0" name="Variable">randomEventType</param>
                                    <param id="1" name="Value">int(random(0, 2))</param>
                                </action>
                            </actions>
                            <sub-events>
                                <comment>Check for what kind of random event to fire.&#x0D;&#x0A;&#x0D;&#x0A;0 = Smog&#x0D;&#x0A;1 = Flood</comment>
                                <event-block sid="818559196565365">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="560133877441847" type="System">
                                            <param id="0" name="Variable">randomEventType</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-15" name="Set visible" sid="209678589109741" type="Smog">
                                            <param id="0" name="Visibility">1</param>
                                        </action>
                                        <action behavior="Fade" id="0" name="Restart fade" sid="873046086866555" type="Smog" />
                                        <action behavior="Fade2" id="1" name="Start fade" sid="899308221839821" type="Smog" />
                                    </actions>
                                </event-block>
                                <event-block sid="223961952701749">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="136615804475942" type="System">
                                            <param id="0" name="Variable">randomEventType</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-12" name="Set group active" sid="195949217659318" type="System">
                                            <param id="0" name="Group name">&quot;Flood&quot;</param>
                                            <param id="1" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="402979831956691">
                    <conditions>
                        <condition behavior="Fade2" id="0" name="On fade-out finished" sid="145021061357015" type="Smog" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="649292344017231" type="System">
                            <param id="0" name="Variable">randomEventRunning</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="Controls the flood random event logic" inactive="1" sid="892784841226373" title="Flood">
                    <sub-events>
                        <event-block sid="373269577947185">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="289468331196142" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <comment>When the Player&apos;s vehicle is underwater</comment>
                                <event-block sid="814361303699109">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="285435690977401" type="Player">
                                            <param id="0" name="Object">Flood</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="791168811583863" type="System">
                                            <param id="0" name="Variable">terrain_force_reduction</param>
                                            <param id="1" name="Value">VEHICLE_FORCE * 0.3</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="237218762975349">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="175466772348722" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="789504100812452" type="System">
                                            <param id="0" name="Variable">terrain_force_reduction</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment>Make water go up</comment>
                                <event-block sid="553845014439137">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="780557175441581" type="System">
                                            <param id="0" name="First value">Flood.Y</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Second value">map2.Y +(map2.Height*0.2)</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="671873716746309" type="System">
                                            <param id="0" name="Variable">floodReverse</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-2" name="Set Y" sid="558115490296292" type="Flood">
                                            <param id="0" name="Y">Flood.Y - 1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="737017768972428">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="827341863676173" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-16" name="Wait" sid="439027944408185" type="System">
                                            <param id="0" name="Seconds">5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="489892275193497" type="System">
                                            <param id="0" name="Variable">floodReverse</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <comment>Make water go down</comment>
                                        <event-block sid="655090839848538">
                                            <conditions>
                                                <condition id="-1" name="Every tick" sid="781539562093843" type="System" />
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="396220280197849">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="354886518985269" type="System">
                                                            <param id="0" name="First value">Flood.Y - Flood.Height</param>
                                                            <param id="1" name="Comparison">2</param>
                                                            <param id="2" name="Second value">LayoutHeight</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-2" name="Set Y" sid="682913926748668" type="Flood">
                                                            <param id="0" name="Y">Flood.Y + 1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="303267334796910">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="638757617032334" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="-9" name="Set value" sid="470820011193211" type="System">
                                                            <param id="0" name="Variable">randomEventRunning</param>
                                                            <param id="1" name="Value">0</param>
                                                        </action>
                                                        <action id="-9" name="Set value" sid="854876199599722" type="System">
                                                            <param id="0" name="Variable">floodReverse</param>
                                                            <param id="1" name="Value">0</param>
                                                        </action>
                                                        <action id="-12" name="Set group active" sid="484611730583721" type="System">
                                                            <param id="0" name="Group name">&quot;Flood&quot;</param>
                                                            <param id="1" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="Manages the logic for the player&apos;s movement" sid="231594897478263" title="Movement">
            <sub-events>
                <variable comment='how much offset from the ground for the vehicle to be considered &quot;touching&quot;' constant="0" name="overlapping_offset" sid="194133709542255" static="0" type="number">1</variable>
                <comment>W or Up arrow key is used to accelerate the Player object by applying force to the right</comment>
                <event-block any="1" sid="250455436510950">
                    <conditions>
                        <condition id="2" name="Key is down" sid="193621803579516" type="Keyboard">
                            <param id="0" name="Key">87</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="909958609667417" type="Keyboard">
                            <param id="0" name="Key">38</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Physics" disabled="1" id="2" name="Apply force at angle" sid="955739301379152" type="Player">
                            <param id="0" name="Force">Function.Call(&quot;calculateForce&quot;)</param>
                            <param id="1" name="Angle">Player.Angle</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action disabled="1" id="0" name="Call function" sid="680284169650762" type="Function">
                            <param id="0" name="Name">&quot;setMoving&quot;</param>
                            <param id="1" name="Parameter {n}">Player.movingAnimation</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="340207992933091">
                            <conditions>
                                <condition id="9" name="Is overlapping at offset" sid="998064717338718" type="Player">
                                    <param id="0" name="Object">map2</param>
                                    <param id="1" name="Offset X">0</param>
                                    <param id="2" name="Offset Y">overlapping_offset</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Physics" id="2" name="Apply force at angle" sid="521680756644699" type="Player">
                                    <param id="0" name="Force">Function.Call(&quot;calculateForce&quot;)</param>
                                    <param id="1" name="Angle">Player.Angle</param>
                                    <param id="2" name="Image point">2</param>
                                </action>
                                <action id="0" name="Call function" sid="238966608306568" type="Function">
                                    <param id="0" name="Name">&quot;setMoving&quot;</param>
                                    <param id="1" name="Parameter {n}">Player.movingAnimation</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>S or Down arrow key is used to deaccelerate the Player object by applying force to the left</comment>
                <event-block any="1" sid="833151635601619">
                    <conditions>
                        <condition id="2" name="Key is down" sid="955874150679859" type="Keyboard">
                            <param id="0" name="Key">83</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="487630642824265" type="Keyboard">
                            <param id="0" name="Key">40</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Physics" disabled="1" id="2" name="Apply force at angle" sid="414795356094538" type="Player">
                            <param id="0" name="Force">Function.Call(&quot;calculateForce&quot;) * -1</param>
                            <param id="1" name="Angle">Player.Angle</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action disabled="1" id="0" name="Call function" sid="687431733256086" type="Function">
                            <param id="0" name="Name">&quot;setMoving&quot;</param>
                            <param id="1" name="Parameter {n}">Player.movingAnimation</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="975091164634153">
                            <conditions>
                                <condition id="9" name="Is overlapping at offset" sid="126217469694550" type="Player">
                                    <param id="0" name="Object">map2</param>
                                    <param id="1" name="Offset X">0</param>
                                    <param id="2" name="Offset Y">overlapping_offset</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Physics" id="2" name="Apply force at angle" sid="892422066825325" type="Player">
                                    <param id="0" name="Force">Function.Call(&quot;calculateForce&quot;) * -1</param>
                                    <param id="1" name="Angle">Player.Angle</param>
                                    <param id="2" name="Image point">2</param>
                                </action>
                                <action id="0" name="Call function" sid="101365707799563" type="Function">
                                    <param id="0" name="Name">&quot;setMoving&quot;</param>
                                    <param id="1" name="Parameter {n}">Player.movingAnimation</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>D or Right arrow key is used to allow the player to rotate their vehicle clockwise</comment>
                <event-block any="1" sid="378716525530293">
                    <conditions>
                        <condition id="2" name="Key is down" sid="874558689586651" type="Keyboard">
                            <param id="0" name="Key">68</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="553081361602609" type="Keyboard">
                            <param id="0" name="Key">39</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Physics" disabled="1" id="0" name="Apply force" sid="736364075560935" type="Player">
                            <param id="0" name="Force X">0</param>
                            <param id="1" name="Force Y">Function.Call(&quot;calculateForceUpwards&quot;)</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action behavior="Physics" id="2" name="Apply force at angle" sid="710714316270764" type="Player">
                            <param id="0" name="Force">Function.Call(&quot;calculateForceUpwards&quot;)</param>
                            <param id="1" name="Angle">Player.Angle + 90</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>A or Left arrow key is used to allow the player to rotate their vehicle counter-clockwise</comment>
                <event-block any="1" sid="547460979579921">
                    <conditions>
                        <condition id="2" name="Key is down" sid="762823797205394" type="Keyboard">
                            <param id="0" name="Key">65</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="610482286906199" type="Keyboard">
                            <param id="0" name="Key">37</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Physics" disabled="1" id="0" name="Apply force" sid="449213631508517" type="Player">
                            <param id="0" name="Force X">0</param>
                            <param id="1" name="Force Y">Function.Call(&quot;calculateForceUpwards&quot;) * -1</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action behavior="Physics" id="2" name="Apply force at angle" sid="122497672531110" type="Player">
                            <param id="0" name="Force">Function.Call(&quot;calculateForceUpwards&quot;) * -1</param>
                            <param id="1" name="Angle">Player.Angle + 90</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Space bar will reset the car to the starting position</comment>
                <event-block any="1" sid="627081703107112">
                    <conditions>
                        <condition id="2" name="Key is down" sid="507633651448651" type="Keyboard">
                            <param id="0" name="Key">82</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Physics" breakpoint="1" id="15" name="Set velocity" sid="242839852208159" type="Player">
                            <param id="0" name="X component">0</param>
                            <param id="1" name="Y component">0</param>
                        </action>
                        <action disabled="1" id="-3" name="Set position" sid="594384041173566" type="Player">
                            <param id="0" name="X">StartFlag.X</param>
                            <param id="1" name="Y">StartFlag.Y</param>
                        </action>
                        <action id="-8" name="Set angle" sid="312082725183385" type="Player">
                            <param id="0" name="Angle">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Manages timer (elapsed time the player has played in the map)" sid="713501233372355" title="Timer Group">
            <sub-events>
                <event-block sid="185206275458166">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="318983454126320" type="System">
                            <param id="0" name="Interval (seconds)">1.0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="141233482111145" type="System">
                            <param id="0" name="Variable">finished</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="867733745288587" type="System">
                            <param id="0" name="Variable">timer</param>
                            <param id="1" name="Value">timer + 1</param>
                        </action>
                        <action id="0" name="Set text" sid="639549630475005" type="LogText">
                            <param id="0" name="Text">Function.Call(&quot;getTime&quot;, timer)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Manages the logic for power ups" sid="977898139946398" title="Power Ups">
            <sub-events>
                <variable comment="variable to set which power up to display" constant="0" name="powerUpType" sid="694976399767013" static="0" type="number">0</variable>
                <variable comment="variable to identify if a power up should be spawned" constant="0" name="powerUp" sid="893788319132239" static="0" type="number">0</variable>
                <comment>Every x seconds, randomize if a power up will spawn</comment>
                <event-block sid="657733017348242">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="784486363987835" type="System">
                            <param id="0" name="Interval (seconds)">1.0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="763515043267392" type="System">
                            <param id="0" name="Variable">powerUp</param>
                            <param id="1" name="Value">int(random(0, 11))</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>If powerUp is 1, select from the available power ups to spawn</comment>
                        <event-block sid="102161282828124">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="233896759315928" type="System">
                                    <param id="0" name="Variable">powerUp</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="419442272407182" type="System">
                                    <param id="0" name="Variable">finished</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="-1" name="Compare X" sid="117945681762575" type="luckyboxSpawner">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">FinishFlag.X-FinishFlag.Width</param>
                                </condition>
                                <condition id="-1" name="Compare X" sid="742653844318585" type="luckyboxSpawner">
                                    <param id="0" name="Comparison">4</param>
                                    <param id="1" name="X co-ordinate">Player.X+Player.Width</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="478431810250958" type="System">
                                    <param id="0" name="Variable">powerUpType</param>
                                    <param id="1" name="Value">int(random(0, 2))</param>
                                </action>
                                <action id="0" name="Spawn another object" sid="380715368539713" type="luckyboxSpawner">
                                    <param id="0" name="Object">luckybox</param>
                                    <param id="1" name="Layer">&quot;Powerups&quot;</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <comment>Check for what kind of power up to spawn.&#x0D;&#x0A;&#x0D;&#x0A;0 = Indomie</comment>
                                <event-block sid="192496781516834">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="867964139021075" type="System">
                                            <param id="0" name="Variable">powerUpType</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>When the player hits a lucky block and hits the space bar, destroy the lucky block</comment>
                <event-block sid="299499990003499">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="569277366499040" type="Player">
                            <param id="0" name="Object">luckybox</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="503808407661482">
                            <conditions>
                                <condition id="2" name="Key is down" sid="371387659355863" type="Keyboard">
                                    <param id="0" name="Key">32</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="243245818639918" type="Function">
                                    <param id="0" name="Name">&quot;destroyLuckyBlock&quot;</param>
                                    <param id="1" name="Parameter {n}">luckybox.UID</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="924688986742832">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="388761715176164" type="System">
                                            <param id="0" name="Variable">powerUpType</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Physics" id="5" name="Apply impulse at angle" sid="732146401870139" type="Player">
                                            <param id="0" name="Impulse">Function.Call(&quot;calculateForce&quot;) * 1.5</param>
                                            <param id="1" name="Angle">Player.Angle</param>
                                            <param id="2" name="Image point">2</param>
                                        </action>
                                        <action id="0" name="Call function" sid="451545618150179" type="Function">
                                            <param id="0" name="Name">&quot;setMoving&quot;</param>
                                            <param id="1" name="Parameter {n}">Player.movingAnimation</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Function to destroy the lucky block</comment>
                <event-block sid="171237281615311">
                    <conditions>
                        <condition id="0" name="On function" sid="510533315293361" type="Function">
                            <param id="0" name="Name">&quot;destroyLuckyBlock&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="104504169435073">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="815353202570365" type="luckybox">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="674481431550699" type="luckybox" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="207899474169060" title="Misc Stuff">
            <sub-events>
                <comment>When the player hits the finish flag, the game ends</comment>
                <event-block sid="485440985367220">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="161365322687385" type="Player">
                            <param id="0" name="Object">FinishFlag</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="267635968012595" type="System">
                            <param id="0" name="Variable">finished</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action disabled="1" id="0" name="Set text" sid="414681690761104" type="LogText">
                            <param id="0" name="Text">&quot;I am done yay&quot;</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="539470538708719" type="System">
                            <param id="0" name="Layer">&quot;Statistics Screen&quot;</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="0" name="Set text" sid="678155815554640" type="timeTaken">
                            <param id="0" name="Text">LogText.Text</param>
                        </action>
                        <action id="3" name="Set visible" sid="945150193745548" type="timeTaken">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="3" name="Set visible" sid="873234419353442" type="timeText">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="882704687097792">
                    <conditions>
                        <condition id="5" name="On any finished" sid="984535636963140" type="StartFlag" />
                    </conditions>
                    <actions>
                        <action id="3" name="Start" sid="395585726954166" type="StartFlag">
                            <param id="0" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="481924811266222">
                    <conditions>
                        <condition id="5" name="On any finished" sid="790887616784608" type="FinishFlag" />
                    </conditions>
                    <actions>
                        <action id="3" name="Start" sid="566012931361308" type="FinishFlag">
                            <param id="0" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
